<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva - AdministraciÃ³n PÃºblica</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fff8fb;
    color: #333;
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }
  h1 {
    text-align: center;
    color: #c75ca0;
    margin-bottom: 1rem;
  }
  .year-label {
    text-align: center;
    font-weight: 700;
    font-size: 1.3rem;
    margin: 2rem 0 1rem;
    color: #a33c82;
  }
  .semesters-container {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .semester {
    background: #ffd9e8;
    border-radius: 12px;
    padding: 15px;
    width: 280px;
    box-shadow: 2px 3px 8px rgba(195, 92, 160, 0.3);
    display: flex;
    flex-direction: column;
  }
  .semester-header {
    font-weight: 700;
    font-size: 1.2rem;
    border-bottom: 2px solid #c75ca0;
    padding-bottom: 6px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .courses {
    flex-grow: 1;
    overflow-y: auto;
    max-height: 400px;
  }
  .course {
    background: #fce7f0;
    border-radius: 8px;
    padding: 8px 10px;
    margin-bottom: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
  }
  .course.locked {
    cursor: not-allowed;
    opacity: 0.5;
  }
  .course.unlocked:hover {
    background: #f7d1e3;
    border-color: #c75ca0;
  }
  .course.completed {
    background: #c8f0d6;
    border-color: #2c9b54;
    text-decoration: line-through;
    cursor: pointer;
  }
  .course .title {
    font-weight: 600;
    font-size: 0.95rem;
  }
  .course .credits {
    font-size: 0.85rem;
    color: #666;
  }
  #creditsCounter {
    font-weight: 700;
    font-size: 1.2rem;
    margin: 1.5rem auto;
    text-align: center;
    color: #9b3d7e;
  }
  footer {
    text-align: center;
    margin-top: 2rem;
    color: #a47b9d;
    font-size: 0.9rem;
  }
</style>
</head>
<body>
<h1>ðŸ’¼ Malla Interactiva - AdministraciÃ³n PÃºblica ðŸ’¼</h1>
<div id="creditsCounter">CrÃ©ditos completados: 0</div>

<div id="mallaContainer"></div>

<footer>âœ¨ Creado con cariÃ±o por Laura @nariwari_ - 2025 âœ¨</footer>

<script>
  // Datos completos de la malla con prerrequisitos y crÃ©ditos
  const malla = [
    {
      year: "Primer AÃ±o",
      semesters: [
        {
          emoji: "âœï¸",
          name: "Semestre I",
          courses: [
            { id: "mat_gest_i", name: "MatemÃ¡tica para la GestiÃ³n I", credits: 5, prereqs: [] },
            { id: "intro_gest_pub", name: "IntroducciÃ³n a la GestiÃ³n PÃºblica", credits: 8, prereqs: [] },
            { id: "hist_inst", name: "Historia de las Instituciones PolÃ­ticas y Administrativas de Chile", credits: 5, prereqs: [] },
            { id: "tec_sis_info", name: "TecnologÃ­as y Sistemas de InformaciÃ³n", credits: 3, prereqs: [] },
            { id: "bases_jur", name: "Bases JurÃ­dicas para la AdministraciÃ³n del Estado", credits: 5, prereqs: [] },
            { id: "ingles_i", name: "InglÃ©s I", credits: 3, prereqs: [] },
            { id: "curso_libre_1", name: "Curso Libre", credits: 2, prereqs: [] }
          ]
        },
        {
          emoji: "ðŸ§ ",
          name: "Semestre II",
          courses: [
            { id: "mat_gest_ii", name: "MatemÃ¡tica para la GestiÃ³n II", credits: 5, prereqs: ["mat_gest_i"] },
            { id: "evolucion_admin", name: "EvoluciÃ³n y Complejidad de la AdministraciÃ³n PÃºblica", credits: 6, prereqs: ["intro_gest_pub"] },
            { id: "ideas_debates", name: "Ideas y Debates PolÃ­ticos ContemporÃ¡neos", credits: 5, prereqs: [] },
            { id: "epistemologia", name: "EpistemologÃ­a de las Ciencias Sociales", credits: 5, prereqs: [] },
            { id: "marco_normativo_i", name: "Marco Normativo para la AcciÃ³n Administrativa I", credits: 5, prereqs: ["bases_jur"] },
            { id: "ingles_ii", name: "InglÃ©s II", credits: 3, prereqs: ["ingles_i"] }
          ]
        }
      ]
    },
    {
      year: "Segundo AÃ±o",
      semesters: [
        {
          emoji: "ðŸ“š",
          name: "Semestre III",
          courses: [
            { id: "estadistica_i", name: "EstadÃ­stica para la GestiÃ³n I", credits: 5, prereqs: ["mat_gest_i"] },
            { id: "dinamicas_admin", name: "DinÃ¡micas de la AdministraciÃ³n PÃºblica Chilena", credits: 5, prereqs: ["evolucion_admin"] },
            { id: "fenomenos_politicos", name: "Estudio de los FenÃ³menos PolÃ­ticos", credits: 5, prereqs: ["ideas_debates"] },
            { id: "metodologia_invest", name: "MetodologÃ­a de la InvestigaciÃ³n en AdministraciÃ³n PÃºblica", credits: 5, prereqs: ["epistemologia"] },
            { id: "marco_normativo_ii", name: "Marco Normativo para la AcciÃ³n Administrativa II", credits: 5, prereqs: ["marco_normativo_i"] },
            { id: "ingles_iii", name: "InglÃ©s III", credits: 3, prereqs: ["ingles_ii"] }
          ]
        },
        {
          emoji: "ðŸŒ·",
          name: "Semestre IV",
          courses: [
            { id: "estadistica_ii", name: "EstadÃ­stica para la GestiÃ³n II", credits: 5, prereqs: ["estadistica_i"] },
            { id: "diseno_organizacional", name: "DiseÃ±o Organizacional", credits: 8, prereqs: ["dinamicas_admin"] },
            { id: "admin_fenomenos", name: "La AdministraciÃ³n PÃºblica y los FenÃ³menos PolÃ­ticos", credits: 5, prereqs: ["fenomenos_politicos"] },
            { id: "metodos_cualitativos", name: "MÃ©todos Cualitativos para la AdministraciÃ³n PÃºblica", credits: 5, prereqs: ["metodologia_invest"] },
            { id: "bases_contables", name: "Bases Contables para la GestiÃ³n PÃºblica", credits: 5, prereqs: [] },
            { id: "ingles_iv", name: "InglÃ©s IV", credits: 3, prereqs: ["ingles_iii"] },
            { id: "cfg", name: "CFG", credits: 2, prereqs: [] },
            { id: "comportamiento_humano", name: "Comportamiento Humano en la OrganizaciÃ³n", credits: 0, prereqs: [] }
          ]
        }
      ]
    },
    {
      year: "Tercer AÃ±o",
      semesters: [
        {
          emoji: "âœ¨",
          name: "Semestre V",
          courses: [
            { id: "fenomenos_micro", name: "FenÃ³menos MicroeconÃ³micos", credits: 5, prereqs: ["estadistica_ii"] },
            { id: "gestion_procesos", name: "GestiÃ³n de Procesos en Organizaciones PÃºblicas", credits: 6, prereqs: ["diseno_organizacional"] },
            { id: "analisis_politico_int", name: "AnÃ¡lisis PolÃ­tico Internacional", credits: 4, prereqs: ["fenomenos_politicos"] },
            { id: "bases_contables", name: "Bases Contables para la GestiÃ³n PÃºblica", credits: 5, prereqs: [] },
            { id: "metodos_cuantitativos", name: "MÃ©todos Cuantitativos para la AdministraciÃ³n PÃºblica", credits: 5, prereqs: ["metodos_cualitativos"] },
            { id: "marco_analitico_politicas", name: "Marco AnalÃ­tico de las PolÃ­ticas PÃºblicas", credits: 4, prereqs: [] }
          ]
        },
        {
          emoji: "ðŸŒˆ",
          name: "Semestre VI",
          courses: [
            { id: "fenomenos_macro", name: "FenÃ³menos MacroeconÃ³micos", credits: 4, prereqs: ["fenomenos_micro"] },
            { id: "planificacion_estrategica", name: "PlanificaciÃ³n EstratÃ©gica de Organizaciones PÃºblicas", credits: 6, prereqs: [] },
            { id: "gestion_financiera", name: "GestiÃ³n Financiera y Presupuestaria del Estado", credits: 5, prereqs: ["bases_contables"] },
            { id: "negociacion_toma_decisiones", name: "NegociaciÃ³n y Toma de Decisiones", credits: 4, prereqs: [] },
            { id: "gestion_territorial", name: "GestiÃ³n Territorial y DescentralizaciÃ³n", credits: 4, prereqs: [] },
            { id: "formulacion_politicas", name: "FormulaciÃ³n e ImplementaciÃ³n de PolÃ­ticas PÃºblicas", credits: 4, prereqs: ["marco_analitico_politicas"] },
            { id: "gestion_personas", name: "GestiÃ³n de Personas en Organizaciones PÃºblicas", credits: 4, prereqs: [] }
          ]
        }
      ]
    },
    {
      year: "Cuarto AÃ±o",
      semesters: [
        {
          emoji: "ðŸŒŸ",
          name: "Semestre VII",
          courses: [
            { id: "contabilidad_gub", name: "Contabilidad Gubernamental", credits: 5, prereqs: ["gestion_financiera"] },
            { id: "economia_sector_pub", name: "EconomÃ­a del Sector PÃºblico", credits: 4, prereqs: ["fenomenos_macro"] },
            { id: "control_eval_org", name: "Control y EvaluaciÃ³n en Organizaciones PÃºblicas", credits: 6, prereqs: [] },
            { id: "analisis_integrado", name: "AnÃ¡lisis Integrado de los Problemas PÃºblicos", credits: 8, prereqs: [] },
            { id: "evaluacion_politicas", name: "EvaluaciÃ³n de PolÃ­ticas PÃºblicas", credits: 4, prereqs: ["formulacion_politicas"] },
            { id: "curso_libre_2", name: "Curso Libre", credits: 2, prereqs: [] }
          ]
        },
        {
          emoji: "ðŸŽ‰",
          name: "Semestre VIII",
          courses: [
            { id: "gestion_proy_sociales", name: "GestiÃ³n de Proyectos Sociales", credits: 4, prereqs: [] },
            { id: "simulacion_asesoria", name: "SimulaciÃ³n de AsesorÃ­a", credits: 7, prereqs: [] },
            { id: "comunicacion_estrat", name: "ComunicaciÃ³n EstratÃ©gica y Marketing PolÃ­tico", credits: 4, prereqs: [] },
            { id: "seminario_inv_aplicada", name: "Seminario de InvestigaciÃ³n Aplicada", credits: 7, prereqs: [] },
            { id: "auditoria_gub", name: "AuditorÃ­a Gubernamental", credits: 5, prereqs: ["contabilidad_gub"] },
            { id: "analisis_empirico", name: "AnÃ¡lisis EmpÃ­rico de PolÃ­tica PÃºblica", credits: 4, prereqs: ["evaluacion_politicas"] }
          ]
        }
      ]
    },
    {
      year: "Quinto AÃ±o",
      semesters: [
        {
          emoji: "ðŸ’¥",
          name: "Semestre IX",
          courses: [
            { id: "evaluacion_proy_sociales", name: "EvaluaciÃ³n de Proyectos Sociales", credits: 4, prereqs: ["gestion_proy_sociales"] },
            { id: "electivo_i", name: "Electivo I", credits: 5, prereqs: [] },
            { id: "electivo_ii", name: "Electivo II", credits: 5, prereqs: [] },
            { id: "electivo_iii", name: "Electivo III", credits: 5, prereqs: [] },
            { id: "cfg_2", name: "CFG", credits: 2, prereqs: [] },
            { id: "electivo_iv", name: "Electivo IV", credits: 5, prereqs: [] },
            { id: "direccion_etica", name: "DirecciÃ³n y Ã‰tica PÃºblica", credits: 4, prereqs: [] }
          ]
        },
        {
          emoji: "ðŸŽ“",
          name: "Semestre X",
          courses: [
            { id: "practica_profesional", name: "PrÃ¡ctica Profesional", credits: 30, prereqs: ["electivo_i","electivo_ii","electivo_iii","electivo_iv","direccion_etica","evaluacion_proy_sociales","simulacion_asesoria","auditoria_gub"] },
            { id: "examen_titulo", name: "Examen de TÃ­tulo", credits: 0, prereqs: ["practica_profesional"] }
          ]
        }
      ]
    }
  ];

  // Variables para guardar estado y contador
  let completedCourses = JSON.parse(localStorage.getItem("completedCourses")) || [];
  const creditsCounter = document.getElementById("creditsCounter");
  const mallaContainer = document.getElementById("mallaContainer");

  // FunciÃ³n para comprobar si prerrequisitos estÃ¡n cumplidos
  function isUnlocked(course) {
    return course.prereqs.every(pr => completedCourses.includes(pr));
  }

  // FunciÃ³n para actualizar el contador de crÃ©ditos
  function updateCredits() {
    let totalCredits = 0;
    completedCourses.forEach(id => {
      for (const year of malla) {
        for (const semester of year.semesters) {
          for (const c of semester.courses) {
            if (c.id === id) totalCredits += c.credits;
          }
        }
      }
    });
    creditsCounter.textContent = `CrÃ©ditos completados: ${totalCredits}`;
  }

  // FunciÃ³n para guardar estado en localStorage
  function saveProgress() {
    localStorage.setItem("completedCourses", JSON.stringify(completedCourses));
  }

  // Renderizar la malla interactiva
  function renderMalla() {
    mallaContainer.innerHTML = "";
    for (const year of malla) {
      const yearLabel = document.createElement("div");
      yearLabel.classList.add("year-label");
      yearLabel.textContent = year.year;
      mallaContainer.appendChild(yearLabel);

      const semestersContainer = document.createElement("div");
      semestersContainer.classList.add("semesters-container");

      for (const semester of year.semesters) {
        const semDiv = document.createElement("div");
        semDiv.classList.add("semester");

        const header = document.createElement("div");
        header.classList.add("semester-header");
        header.textContent = semester.name;
        const emojiSpan = document.createElement("span");
        emojiSpan.textContent = semester.emoji;
        header.appendChild(emojiSpan);
        semDiv.appendChild(header);

        const coursesDiv = document.createElement("div");
        coursesDiv.classList.add("courses");

        for (const course of semester.courses) {
          const courseDiv = document.createElement("div");
          courseDiv.classList.add("course");

          const unlocked = isUnlocked(course);
          const completed = completedCourses.includes(course.id);

          courseDiv.classList.toggle("locked", !unlocked && !completed);
          courseDiv.classList.toggle("unlocked", unlocked && !completed);
          courseDiv.classList.toggle("completed", completed);

          const titleSpan = document.createElement("div");
          titleSpan.classList.add("title");
          titleSpan.textContent = course.name;

          const creditsSpan = document.createElement("div");
          creditsSpan.classList.add("credits");
          creditsSpan.textContent = `${course.credits} crÃ©ditos`;

          courseDiv.appendChild(titleSpan);
          courseDiv.appendChild(creditsSpan);

          if (unlocked || completed) {
            courseDiv.addEventListener("click", () => {
              if (completed) {
                completedCourses = completedCourses.filter(id => id !== course.id);
              } else {
                completedCourses.push(course.id);
              }
              saveProgress();
              updateCredits();
              renderMalla();
            });
          }
          coursesDiv.appendChild(courseDiv);
        }
        semDiv.appendChild(coursesDiv);
        semestersContainer.appendChild(semDiv);
      }
      mallaContainer.appendChild(semestersContainer);
    }
  }

  // Iniciar app
  updateCredits();
  renderMalla();

</script>
</body>
</html>
