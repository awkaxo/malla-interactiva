<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva - Administraci√≥n P√∫blica</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fff8fb;
    color: #333;
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }
  h1 {
    text-align: center;
    color: #c75ca0;
    margin-bottom: 1rem;
  }
  .year-label {
    text-align: center;
    font-weight: 700;
    font-size: 1.3rem;
    margin: 2rem 0 1rem;
    color: #a33c82;
  }
  .semesters-container {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .semester {
    background: #ffd9e8;
    border-radius: 12px;
    padding: 15px;
    width: 280px;
    box-shadow: 2px 3px 8px rgba(195, 92, 160, 0.3);
    display: flex;
    flex-direction: column;
  }
  .semester-header {
    font-weight: 700;
    font-size: 1.2rem;
    border-bottom: 2px solid #c75ca0;
    padding-bottom: 6px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .courses {
    flex-grow: 1;
    overflow-y: auto;
    max-height: 400px;
  }
  .course {
    background: #fce7f0;
    border-radius: 8px;
    padding: 8px 10px;
    margin-bottom: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
  }
  .course.locked {
    cursor: not-allowed;
    opacity: 0.5;
  }
  .course.unlocked:hover {
    background: #f7d1e3;
    border-color: #c75ca0;
  }
  .course.completed {
    background: #c8f0d6;
    border-color: #2c9b54;
    text-decoration: line-through;
    cursor: pointer;
  }
  .course .title {
    font-weight: 600;
    font-size: 0.95rem;
  }
  .course .credits {
    font-size: 0.85rem;
    color: #666;
  }
  #creditsCounter {
    font-weight: 700;
    font-size: 1.2rem;
    margin: 1.5rem auto;
    text-align: center;
    color: #9b3d7e;
  }
  footer {
    text-align: center;
    margin-top: 2rem;
    color: #a47b9d;
    font-size: 0.9rem;
  }
</style>
</head>
<body>
<h1>üíº Malla Interactiva - Administraci√≥n P√∫blica üíº</h1>
<div id="creditsCounter">Cr√©ditos completados: 0</div>

<div id="mallaContainer"></div>

<footer>‚ú® Creado con cari√±o por Laura @nariwari_ - 2025 ‚ú®</footer>

<script>
  // Datos completos de la malla con prerrequisitos y cr√©ditos
  const malla = [
    {
      year: "Primer A√±o",
      semesters: [
        {
          emoji: "‚úçÔ∏è",
          name: "Semestre I",
          courses: [
            { id: "mat_gest_i", name: "Matem√°tica para la Gesti√≥n I", credits: 5, prereqs: [] },
            { id: "intro_gest_pub", name: "Introducci√≥n a la Gesti√≥n P√∫blica", credits: 8, prereqs: [] },
            { id: "hist_inst", name: "Historia de las Instituciones Pol√≠ticas y Administrativas de Chile", credits: 5, prereqs: [] },
            { id: "tec_sis_info", name: "Tecnolog√≠as y Sistemas de Informaci√≥n", credits: 3, prereqs: [] },
            { id: "bases_jur", name: "Bases Jur√≠dicas para la Administraci√≥n del Estado", credits: 5, prereqs: [] },
            { id: "ingles_i", name: "Ingl√©s I", credits: 3, prereqs: [] },
            { id: "curso_libre_1", name: "Curso Libre", credits: 2, prereqs: [] }
          ]
        },
        {
          emoji: "üß†",
          name: "Semestre II",
          courses: [
            { id: "mat_gest_ii", name: "Matem√°tica para la Gesti√≥n II", credits: 5, prereqs: ["mat_gest_i"] },
            { id: "evolucion_admin", name: "Evoluci√≥n y Complejidad de la Administraci√≥n P√∫blica", credits: 6, prereqs: ["intro_gest_pub"] },
            { id: "ideas_debates", name: "Ideas y Debates Pol√≠ticos Contempor√°neos", credits: 5, prereqs: [] },
            { id: "epistemologia", name: "Epistemolog√≠a de las Ciencias Sociales", credits: 5, prereqs: [] },
            { id: "marco_normativo_i", name: "Marco Normativo para la Acci√≥n Administrativa I", credits: 5, prereqs: ["bases_jur"] },
            { id: "ingles_ii", name: "Ingl√©s II", credits: 3, prereqs: ["ingles_i"] }
          ]
        }
      ]
    },
    {
      year: "Segundo A√±o",
      semesters: [
        {
          emoji: "üìö",
          name: "Semestre III",
          courses: [
            { id: "estadistica_i", name: "Estad√≠stica para la Gesti√≥n I", credits: 5, prereqs: ["mat_gest_i"] },
            { id: "dinamicas_admin", name: "Din√°micas de la Administraci√≥n P√∫blica Chilena", credits: 5, prereqs: ["evolucion_admin"] },
            { id: "fenomenos_politicos", name: "Estudio de los Fen√≥menos Pol√≠ticos", credits: 5, prereqs: ["ideas_debates"] },
            { id: "metodologia_invest", name: "Metodolog√≠a de la Investigaci√≥n en Administraci√≥n P√∫blica", credits: 5, prereqs: ["epistemologia"] },
            { id: "marco_normativo_ii", name: "Marco Normativo para la Acci√≥n Administrativa II", credits: 5, prereqs: ["marco_normativo_i"] },
            { id: "ingles_iii", name: "Ingl√©s III", credits: 3, prereqs: ["ingles_ii"] }
          ]
        },
        {
          emoji: "üå∑",
          name: "Semestre IV",
          courses: [
            { id: "estadistica_ii", name: "Estad√≠stica para la Gesti√≥n II", credits: 5, prereqs: ["estadistica_i"] },
            { id: "diseno_organizacional", name: "Dise√±o Organizacional", credits: 8, prereqs: ["dinamicas_admin"] },
            { id: "admin_fenomenos", name: "La Administraci√≥n P√∫blica y los Fen√≥menos Pol√≠ticos", credits: 5, prereqs: ["fenomenos_politicos"] },
            { id: "metodos_cualitativos", name: "M√©todos Cualitativos para la Administraci√≥n P√∫blica", credits: 5, prereqs: ["metodologia_invest"] },
            { id: "bases_contables", name: "Bases Contables para la Gesti√≥n P√∫blica", credits: 5, prereqs: [] },
            { id: "ingles_iv", name: "Ingl√©s IV", credits: 3, prereqs: ["ingles_iii"] },
            { id: "cfg", name: "CFG", credits: 2, prereqs: [] },
            { id: "comportamiento_humano", name: "Comportamiento Humano en la Organizaci√≥n", credits: 0, prereqs: [] }
          ]
        }
      ]
    },
    {
      year: "Tercer A√±o",
      semesters: [
        {
          emoji: "‚ú®",
          name: "Semestre V",
          courses: [
            { id: "fenomenos_micro", name: "Fen√≥menos Microecon√≥micos", credits: 5, prereqs: ["estadistica_ii"] },
            { id: "gestion_procesos", name: "Gesti√≥n de Procesos en Organizaciones P√∫blicas", credits: 6, prereqs: ["diseno_organizacional"] },
            { id: "analisis_politico_int", name: "An√°lisis Pol√≠tico Internacional", credits: 4, prereqs: ["fenomenos_politicos"] },
            { id: "bases_contables", name: "Bases Contables para la Gesti√≥n P√∫blica", credits: 5, prereqs: [] },
            { id: "metodos_cuantitativos", name: "M√©todos Cuantitativos para la Administraci√≥n P√∫blica", credits: 5, prereqs: ["metodos_cualitativos"] },
            { id: "marco_analitico_politicas", name: "Marco Anal√≠tico de las Pol√≠ticas P√∫blicas", credits: 4, prereqs: [] }
          ]
        },
        {
          emoji: "üåà",
          name: "Semestre VI",
          courses: [
            { id: "fenomenos_macro", name: "Fen√≥menos Macroecon√≥micos", credits: 4, prereqs: ["fenomenos_micro"] },
            { id: "planificacion_estrategica", name: "Planificaci√≥n Estrat√©gica de Organizaciones P√∫blicas", credits: 6, prereqs: [] },
            { id: "gestion_financiera", name: "Gesti√≥n Financiera y Presupuestaria del Estado", credits: 5, prereqs: ["bases_contables"] },
            { id: "negociacion_toma_decisiones", name: "Negociaci√≥n y Toma de Decisiones", credits: 4, prereqs: [] },
            { id: "gestion_territorial", name: "Gesti√≥n Territorial y Descentralizaci√≥n", credits: 4, prereqs: [] },
            { id: "formulacion_politicas", name: "Formulaci√≥n e Implementaci√≥n de Pol√≠ticas P√∫blicas", credits: 4, prereqs: ["marco_analitico_politicas"] },
            { id: "gestion_personas", name: "Gesti√≥n de Personas en Organizaciones P√∫blicas", credits: 4, prereqs: [] }
          ]
        }
      ]
    },
    {
      year: "Cuarto A√±o",
      semesters: [
        {
          emoji: "üåü",
          name: "Semestre VII",
          courses: [
            { id: "contabilidad_gub", name: "Contabilidad Gubernamental", credits: 5, prereqs: ["gestion_financiera"] },
            { id: "economia_sector_pub", name: "Econom√≠a del Sector P√∫blico", credits: 4, prereqs: ["fenomenos_macro"] },
            { id: "control_eval_org", name: "Control y Evaluaci√≥n en Organizaciones P√∫blicas", credits: 6, prereqs: [] },
            { id: "analisis_integrado", name: "An√°lisis Integrado de los Problemas P√∫blicos", credits: 8, prereqs: [] },
            { id: "evaluacion_politicas", name: "Evaluaci√≥n de Pol√≠ticas P√∫blicas", credits: 4, prereqs: ["formulacion_politicas"] },
            { id: "curso_libre_2", name: "Curso Libre", credits: 2, prereqs: [] }
          ]
        },
        {
          emoji: "üéâ",
          name: "Semestre VIII",
          courses: [
            { id: "gestion_proy_sociales", name: "Gesti√≥n de Proyectos Sociales", credits: 4, prereqs: [] },
            { id: "simulacion_asesoria", name: "Simulaci√≥n de Asesor√≠a", credits: 7, prereqs: [] },
            { id: "comunicacion_estrat", name: "Comunicaci√≥n Estrat√©gica y Marketing Pol√≠tico", credits: 4, prereqs: [] },
            { id: "seminario_inv_aplicada", name: "Seminario de Investigaci√≥n Aplicada", credits: 7, prereqs: [] },
            { id: "auditoria_gub", name: "Auditor√≠a Gubernamental", credits: 5, prereqs: ["contabilidad_gub"] },
            { id: "analisis_empirico", name: "An√°lisis Emp√≠rico de Pol√≠tica P√∫blica", credits: 4, prereqs: ["evaluacion_politicas"] }
          ]
        }
      ]
    },
    {
      year: "Quinto A√±o",
      semesters: [
        {
          emoji: "üí•",
          name: "Semestre IX",
          courses: [
            { id: "evaluacion_proy_sociales", name: "Evaluaci√≥n de Proyectos Sociales", credits: 4, prereqs: ["gestion_proy_sociales"] },
            { id: "electivo_i", name: "Electivo I", credits: 5, prereqs: [] },
            { id: "electivo_ii", name: "Electivo II", credits: 5, prereqs: [] },
            { id: "electivo_iii", name: "Electivo III", credits: 5, prereqs: [] },
            { id: "cfg_2", name: "CFG", credits: 2, prereqs: [] },
            { id: "electivo_iv", name: "Electivo IV", credits: 5, prereqs: [] },
            { id: "direccion_etica", name: "Direcci√≥n y √âtica P√∫blica", credits: 4, prereqs: [] }
          ]
        },
        {
          emoji: "üéì",
          name: "Semestre X",
          courses: [
            { id: "practica_profesional", name: "Pr√°ctica Profesional", credits: 30, prereqs: ["electivo_i","electivo_ii","electivo_iii","electivo_iv","direccion_etica","evaluacion_proy_sociales","simulacion_asesoria","auditoria_gub"] },
            { id: "examen_titulo", name: "Examen de T√≠tulo", credits: 0, prereqs: ["practica_profesional"] }
          ]
        }
      ]
    }
  ];

  // Variables para guardar estado y contador
  let completedCourses = JSON.parse(localStorage.getItem("completedCourses")) || [];
  const creditsCounter = document.getElementById("creditsCounter");
  const mallaContainer = document.getElementById("mallaContainer");

  // Funci√≥n para comprobar si prerrequisitos est√°n cumplidos
  function isUnlocked(course) {
    return course.prereqs.every(pr => completedCourses.includes(pr));
  }

  // Funci√≥n para actualizar el contador de cr√©ditos
  function updateCredits() {
    let totalCredits = 0;
    completedCourses.forEach(id => {
      for (const year of malla) {
        for (const semester of year.semesters) {
          for (const c of semester.courses) {
            if (c.id === id) totalCredits += c.credits;
          }
        }
      }
    });
    creditsCounter.textContent = `Cr√©ditos completados: ${totalCredits}`;
  }

  // Funci√≥n para guardar estado en localStorage
  function saveProgress() {
    localStorage.setItem("completedCourses", JSON.stringify(completedCourses));
  }

  // Renderizar la malla interactiva
  function renderMalla() {
    mallaContainer.innerHTML = "";
    for (const year of malla) {
      const yearLabel = document.createElement("div");
      yearLabel.classList.add("year-label");
      yearLabel.textContent = year.year;
      mallaContainer.appendChild(yearLabel);

      const semestersContainer = document.createElement("div");
      semestersContainer.classList.add("semesters-container");

      for (const semester of year.semesters) {
        const semDiv = document.createElement("div");
        semDiv.classList.add("semester");

        const header = document.createElement("div");
        header.classList.add("semester-header");
        header.textContent = semester.name;
        const emojiSpan = document.createElement("span");
        emojiSpan.textContent = semester.emoji;
        header.appendChild(emojiSpan);
        semDiv.appendChild(header);

        const coursesDiv = document.createElement("div");
        coursesDiv.classList.add("courses");

        for (const course of semester.courses) {
          const courseDiv = document.createElement("div");
          courseDiv.classList.add("course");

          const unlocked = isUnlocked(course);
          const completed = completedCourses.includes(course.id);

          courseDiv.classList.toggle("locked", !unlocked && !completed);
          courseDiv.classList.toggle("unlocked", unlocked && !completed);
          courseDiv.classList.toggle("completed", completed);

          const titleSpan = document.createElement("div");
          titleSpan.classList.add("title");
          titleSpan.textContent = course.name;

          const creditsSpan = document.createElement("div");
          creditsSpan.classList.add("credits");
          creditsSpan.textContent = `${course.credits} cr√©ditos`;

          courseDiv.appendChild(titleSpan);
          courseDiv.appendChild(creditsSpan);

          if (unlocked || completed) {
            courseDiv.addEventListener("click", () => {
              if (completed) {
                completedCourses = completedCourses.filter(id => id !== course.id);
              } else {
                completedCourses.push(course.id);
              }
              saveProgress();
              updateCredits();
              renderMalla();
            });
          }
          coursesDiv.appendChild(courseDiv);
        }
        semDiv.appendChild(coursesDiv);
        semestersContainer.appendChild(semDiv);
      }
      mallaContainer.appendChild(semestersContainer);
    }
  }

  // Iniciar app
  updateCredits();
  renderMalla();

</script>
</body>
</html>
